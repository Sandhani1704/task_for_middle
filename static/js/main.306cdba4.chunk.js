(this.webpackJsonptask_for_middle=this.webpackJsonptask_for_middle||[]).push([[0],{17:function(t,e,a){},21:function(t){t.exports=JSON.parse('{"a":[{"type":"flat","id":1,"attributes":{"title":"3-\u0445 \u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043d\u0430 \u041c\u0438\u043d\u0441\u043a\u043e\u0439","rooms":3,"address":{"city":"Tyumen","street":"\u041c\u0438\u043d\u0441\u043a\u0430\u044f","house":"3a","room":"123"},"pictures":["https://images.unsplash.com/photo-1470075801209-17f9ec0cada6?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MTB8fGJ1aWxkaW5nfGVufDB8fDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60","https://images.unsplash.com/photo-1554469384-e58fac16e23a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8YnVpbGRpbmd8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"],"area":134,"unit":"\u043a\u0432\u043c"},"relationships":{"type":"agent","id":2,"attributes":{"first_name":"\u0412\u0430\u0441\u0438\u043b\u0438\u0439","last_name":"\u0414\u0440\u043e\u0437\u0434\u043e\u0432","middle_name":"\u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432\u0438\u0447"}}},{"type":"flat","id":2,"attributes":{"title":"1 \u043a\u043e\u043c\u043d\u0430\u0442\u043d\u0430\u044f \u043d\u0430 \u0411\u0430\u0440\u0430\u0431\u0430\u0438\u043d\u0441\u043a\u043e\u0439","rooms":2,"address":{"city":"Tyumen","street":"\u0411\u0430\u0440\u0430\u0431\u0438\u043d\u0441\u043a\u0430\u044f","house":"12","room":"45"},"pictures":["https://images.unsplash.com/photo-1554435493-93422e8220c8?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mnx8YnVpbGRpbmd8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60","https://images.unsplash.com/photo-1554469384-e58fac16e23a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8YnVpbGRpbmd8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"],"area":34,"unit":"\u043a\u0432\u043c"},"relationships":{"type":"agent","id":10,"attributes":{"first_name":"\u041c\u0438\u0445\u0430\u0438\u043b","last_name":"\u0418\u0432\u0430\u043d\u043e\u0432","middle_name":"\u0414\u0435\u043c\u0438\u0434\u043e\u0432\u0438\u0447"}}},{"type":"flat","id":3,"attributes":{"title":"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430 \u041b\u0435\u043d\u0438\u043d\u0430","rooms":4,"address":{"city":"Tyumen","street":"\u041b\u0435\u043d\u0438\u043d\u0430","house":"134","room":"24"},"pictures":["https://images.unsplash.com/photo-1499714608240-22fc6ad53fb2?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80","https://images.unsplash.com/photo-1554469384-e58fac16e23a?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8YnVpbGRpbmd8ZW58MHx8MHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"],"area":134,"unit":"\u043a\u0432\u043c"},"relationships":{"type":"agent","id":44,"attributes":{"first_name":"\u0421\u0442\u0435\u043f\u0430\u043d","last_name":"\u041a\u0430\u0440\u0430\u0447\u0430\u0435\u0432","middle_name":"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447"}}}]}')},27:function(t,e,a){},28:function(t,e,a){},31:function(t,e,a){},37:function(t,e,a){},38:function(t,e,a){"use strict";a.r(e);var s=a(1),r=a.n(s),n=a(19),i=a.n(n),c=(a(27),a(9)),o=a(16),l=(a(28),r.a.createContext()),d=a(13),u=a.n(d),j=a(20),b=a(21),m=function(){var t=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout((function(){return t(b.a)}),1e3)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=(a(17),a(0)),p=function(){return Object(h.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:12,width:12,stroke:"currentcolor",strokeWidth:5.33333},children:Object(h.jsx)("g",{fill:"none",children:Object(h.jsx)("path",{d:"m12 4 11.2928932 11.2928932c.3905243.3905243.3905243 1.0236893 0 1.4142136l-11.2928932 11.2928932"})})})},x=function(){return Object(h.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:12,width:12,stroke:"currentcolor",strokeWidth:5.33333},children:Object(h.jsx)("g",{fill:"none",children:Object(h.jsx)("path",{d:"m20 28-11.29289322-11.2928932c-.39052429-.3905243-.39052429-1.0236893 0-1.4142136l11.29289322-11.2928932"})})})};var f=function(){var t=r.a.useContext(l),e=t.apartments,a=t.setApartments;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"apartments",children:e.map((function(t){return Object(h.jsxs)("div",{className:"apartment__card",children:[Object(h.jsxs)("div",{className:"apartment__card-pictures",children:[t.attributes.pictures.slice(0,1).map((function(t,e){return Object(h.jsx)("img",{className:"apartment__card-image",src:t,alt:"apartments view"},e)})),Object(h.jsx)("button",{className:"apartment__button-next",children:Object(h.jsx)("span",{className:"apartment__button-controll-image",children:Object(h.jsx)(p,{})})}),Object(h.jsx)("button",{className:"apartment__button-back",children:Object(h.jsx)("span",{className:"apartment__button-controll-image",children:Object(h.jsx)(x,{})})})]}),Object(h.jsx)("h2",{className:"apartment__title",children:t.attributes.title}),Object(h.jsxs)("div",{className:"apartment__card-address",children:[Object(h.jsx)("p",{children:t.attributes.address.city}),Object(h.jsxs)("p",{children:[", ",t.attributes.address.street]}),Object(h.jsxs)("p",{children:[", ",t.attributes.address.house]}),Object(h.jsxs)("p",{children:[", ",t.attributes.address.room]})]}),Object(h.jsx)("div",{className:"apartment__like-container",children:Object(h.jsx)("button",{type:"button",className:"apartment-like-button ".concat(t.favourite&&"apartment-like-button_active"),onClick:function(){var s;s=t.id,a(e.map((function(t){return t.id===s?Object(c.a)(Object(c.a)({},t),{},{favourite:!t.favourite}):Object(c.a)({},t)})))}})})]},t.id)}))})})};var O=function(){var t=r.a.useContext(l).apartments.filter((function(t){return t.favourite}));return Object(h.jsx)("div",{className:"apartments",children:t.map((function(t){return Object(h.jsxs)("div",{className:"apartment__card",children:[Object(h.jsx)("div",{className:"apartment__card-pictures",children:t.attributes.pictures.slice(0,1).map((function(t,e){return Object(h.jsx)("img",{className:"apartment__card-image",src:t,alt:"apartments view"},e)}))}),Object(h.jsx)("h2",{className:"apartment__title",children:t.attributes.title}),Object(h.jsxs)("div",{className:"apartment__card-address",children:[Object(h.jsx)("p",{children:t.attributes.address.city}),Object(h.jsxs)("p",{children:[", ",t.attributes.address.street]}),Object(h.jsxs)("p",{children:[", ",t.attributes.address.house]}),Object(h.jsxs)("p",{children:[", ",t.attributes.address.room]})]})]},t.id)}))})},v=(a(31),a(7)),_=function(){return Object(h.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"60",height:"60",fill:"white",viewBox:"0 0 297 297",children:[Object(h.jsx)("path",{d:"M294.321 129.816L154.065 3.445a8.102 8.102 0 00-10.838-.006L2.684 129.81a8.1 8.1 0 005.417 14.125h23.944L143.17 45.007a8.1 8.1 0 0110.947.001l111.117 98.927h23.664a8.1 8.1 0 005.423-14.119z"}),Object(h.jsx)("path",{d:"M172.971 149.57c0-13.4-10.902-24.303-24.303-24.303-13.399 0-24.302 10.902-24.302 24.303v11.897h48.604V149.57zM107.659 245.007h82.019v-65.313h-82.019v65.313zm41.01-52.148c6.98 0 12.658 5.678 12.658 12.657 0 3.4-1.354 6.486-3.545 8.764v11.994a9.113 9.113 0 11-18.226 0v-11.996a12.61 12.61 0 01-3.543-8.762c-.001-6.98 5.677-12.657 12.656-12.657z"}),Object(h.jsx)("path",{d:"M42.077 156.72v130.816a8.102 8.102 0 008.101 8.101h196.928a8.102 8.102 0 008.101-8.101V156.72L148.644 61.968 42.077 156.72zm149.121-7.15v11.897h7.594a9.112 9.112 0 019.113 9.113v83.539a9.112 9.112 0 01-9.113 9.113H98.546a9.113 9.113 0 01-9.113-9.113V170.58a9.113 9.113 0 019.113-9.113h7.595V149.57c0-23.451 19.078-42.529 42.528-42.529 23.451 0 42.529 19.078 42.529 42.529z"})]})};var w=function(){return Object(h.jsx)("header",{className:"header",children:Object(h.jsxs)("div",{className:"header__container",children:[Object(h.jsx)(v.b,{to:"/",className:"header__link",children:Object(h.jsx)(_,{})}),Object(h.jsxs)("nav",{className:"header__nav",children:[Object(h.jsx)(v.b,{className:"header__link",to:"/",children:"Gallery"}),Object(h.jsx)(v.b,{className:"header__link",to:"/favorites",children:"Favourites"}),Object(h.jsx)(v.b,{className:"header__link",to:"/",children:"Contacts"})]})]})})};a(37);var g=function(){return Object(h.jsxs)("div",{className:"circle-preloader__conteiner",children:[Object(h.jsx)("i",{className:"circle-preloader"}),Object(h.jsx)("p",{className:"circle-preloader__text",children:"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a..."})]})},M=a(2);var y=function(){var t=r.a.useState([]),e=Object(o.a)(t,2),a=e[0],s=e[1],n=r.a.useState(!1),i=Object(o.a)(n,2),d=i[0],u=i[1];return r.a.useEffect((function(){u(!0),m().then((function(t){if(t){var e,a=Object.values(t);try{e=localStorage.getItem("favourites")}catch(n){console.error(n)}var r=a.map((function(t){var a;return Object(c.a)(Object(c.a)({},t),{},{favourite:!!(null===(a=e)||void 0===a?void 0:a.includes(t.id))})}));u(!1),s(r)}}))}),[]),r.a.useEffect((function(){if(a.length){var t=a.filter((function(t){return t.favourite}));localStorage.setItem("favourites",JSON.stringify(t.map((function(t){return t.id}))))}}),[a]),Object(h.jsx)(l.Provider,{value:{apartments:a,setApartments:s},children:Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(w,{}),Object(h.jsxs)(M.c,{children:[Object(h.jsx)(M.a,{exact:!0,path:"/",children:d?Object(h.jsx)(g,{}):Object(h.jsx)(f,{})}),Object(h.jsx)(M.a,{exact:!0,path:"/favorites",children:Object(h.jsx)(O,{})})]})]})})},N=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,39)).then((function(e){var a=e.getCLS,s=e.getFID,r=e.getFCP,n=e.getLCP,i=e.getTTFB;a(t),s(t),r(t),n(t),i(t)}))};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(v.a,{children:Object(h.jsx)(y,{})})}),document.getElementById("root")),N()}},[[38,1,2]]]);
//# sourceMappingURL=main.306cdba4.chunk.js.map