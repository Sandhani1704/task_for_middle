{"version":3,"sources":["contexts/ApartmentsContext.js","utils/Api.js","assets/icons/NextIcon.js","assets/icons/BackIcon.js","components/ApartmentsList.js","components/FavouriteApartments.js","assets/icons/LogoIcon.js","components/Header.js","components/Preloader.js","components/App.js","reportWebVitals.js","index.js"],"names":["ApartmentsContext","React","createContext","getInitialDatas","a","Promise","resolve","setTimeout","entities","NextIcon","viewBox","xmlns","aria-hidden","role","focusable","style","display","fill","height","width","stroke","strokeWidth","d","BackIcon","ApartmentsList","useContext","apartments","setApartments","className","map","homeItem","attributes","pictures","slice","homeImg","key","src","alt","title","address","city","street","house","room","type","favourite","onClick","cardId","id","el","FavouriteApartments","favourites","filter","home","homePic","LogoIcon","version","x","y","Header","to","Preloader","App","useState","preloader","setPreloader","useEffect","then","res","initialDatas","Object","values","localStorage","getItem","err","console","error","result","includes","length","favouriteItems","setItem","JSON","stringify","Provider","value","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.306cdba4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const ApartmentsContext = React.createContext();","import * as entities from '../entities.json'\r\n\r\nexport const getInitialDatas = async () => {\r\n  return await new Promise((resolve) => {\r\n    setTimeout(() => resolve(entities.response), 1000);\r\n  });\r\n};\r\n\r\n","import React from 'react';\r\n\r\nexport const NextIcon = () => {\r\n  return (\r\n    <svg\r\n      viewBox=\"0 0 32 32\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      aria-hidden=\"true\"\r\n      role=\"presentation\"\r\n      focusable=\"false\"\r\n      style={{\r\n        display: 'block',\r\n        fill: 'none',\r\n        height: 12,\r\n        width: 12,\r\n        stroke: 'currentcolor',\r\n        strokeWidth: 5.33333,\r\n      }}\r\n    >\r\n      <g fill=\"none\">\r\n        <path d=\"m12 4 11.2928932 11.2928932c.3905243.3905243.3905243 1.0236893 0 1.4142136l-11.2928932 11.2928932\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nexport const BackIcon = () => {\r\n  return (\r\n   \r\n   <svg\r\n      viewBox=\"0 0 32 32\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      aria-hidden=\"true\"\r\n      role=\"presentation\"\r\n      focusable=\"false\"\r\n      style={{\r\n        display: 'block',\r\n        fill: 'none',\r\n        height: 12,\r\n        width: 12,\r\n        stroke: 'currentcolor',\r\n        strokeWidth: 5.33333,\r\n      }}\r\n    >\r\n      <g fill=\"none\">\r\n        <path d=\"m20 28-11.29289322-11.2928932c-.39052429-.3905243-.39052429-1.0236893 0-1.4142136l11.29289322-11.2928932\" />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\n","import './ApartmentsList.css';\r\nimport React from 'react';\r\nimport { ApartmentsContext } from '../contexts/ApartmentsContext';\r\nimport { NextIcon } from '../assets/icons/NextIcon';\r\nimport { BackIcon } from '../assets/icons/BackIcon';\r\n\r\nfunction ApartmentsList() {\r\n    \r\n    const { apartments, setApartments } = React.useContext(ApartmentsContext);\r\n\r\n    const handleLikeClick = (cardId) => {\r\n        setApartments(apartments.map(el => el.id === cardId ? { ...el, favourite: !el.favourite } : { ...el }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"apartments\">\r\n                {apartments.map((homeItem) => (\r\n                    <div className=\"apartment__card\" key={homeItem.id}>\r\n                        <div className=\"apartment__card-pictures\">\r\n                            {homeItem.attributes.pictures.slice(0, 1).map((homeImg, key) => (\r\n                                <img className=\"apartment__card-image\" src={homeImg} alt=\"apartments view\" key={key}/>\r\n\r\n                            ))}\r\n\r\n                            <button className=\"apartment__button-next\">\r\n                                <span className='apartment__button-controll-image'>\r\n                                    <NextIcon />\r\n                                </span>\r\n                            </button>\r\n                            <button className=\"apartment__button-back\">\r\n                            <span className='apartment__button-controll-image'>\r\n                                    <BackIcon />\r\n                                </span>\r\n                            </button>\r\n                        </div>\r\n                        <h2 className=\"apartment__title\">{homeItem.attributes.title}</h2>\r\n                        <div className=\"apartment__card-address\">\r\n                            <p>{homeItem.attributes.address.city}</p>\r\n                            <p>, {homeItem.attributes.address.street}</p>\r\n                            <p>, {homeItem.attributes.address.house}</p>\r\n                            <p>, {homeItem.attributes.address.room}</p>\r\n                        </div>\r\n                        <div className=\"apartment__like-container\">\r\n                            <button type=\"button\" className={`apartment-like-button ${homeItem.favourite && 'apartment-like-button_active'}`}\r\n                                onClick={() => { handleLikeClick(homeItem.id) }}></button>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n\r\n                ))}\r\n            </div>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default ApartmentsList;","import './ApartmentsList.css';\r\nimport React from 'react';\r\nimport { ApartmentsContext } from '../contexts/ApartmentsContext';\r\n\r\nfunction FavouriteApartments() {\r\n    const { apartments } = React.useContext(ApartmentsContext);\r\n\r\n    const favourites = apartments.filter(el => el.favourite)\r\n\r\n    return (\r\n        <div className=\"apartments\">\r\n            {favourites.map((home) => (\r\n                <div className=\"apartment__card\" key={home.id}>\r\n                    <div className=\"apartment__card-pictures\">\r\n                        {home.attributes.pictures.slice(0, 1).map((homePic, key) => (\r\n                            <img className=\"apartment__card-image\" src={homePic} alt=\"apartments view\" key={key}/>\r\n                        ))}\r\n                    </div>\r\n                    <h2 className=\"apartment__title\">{home.attributes.title}</h2>\r\n                    <div className=\"apartment__card-address\">\r\n                        <p>{home.attributes.address.city}</p>\r\n                        <p>, {home.attributes.address.street}</p>\r\n                        <p>, {home.attributes.address.house}</p>\r\n                        <p>, {home.attributes.address.room}</p>\r\n                    </div>\r\n                    \r\n                </div>\r\n\r\n\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FavouriteApartments;","import React from 'react';\r\n\r\nexport const LogoIcon = () => {\r\n    return (\r\n\r\n        <svg\r\n            version=\"1.1\"\r\n            id=\"Layer_1\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            x=\"0px\"\r\n            y=\"0px\"\r\n            width='60'\r\n            height='60'\r\n            fill=\"white\"\r\n            viewBox=\"0 0 297 297\"\r\n        >\r\n            <path d=\"M294.321 129.816L154.065 3.445a8.102 8.102 0 00-10.838-.006L2.684 129.81a8.1 8.1 0 005.417 14.125h23.944L143.17 45.007a8.1 8.1 0 0110.947.001l111.117 98.927h23.664a8.1 8.1 0 005.423-14.119z\">\r\n            </path>\r\n            <path d=\"M172.971 149.57c0-13.4-10.902-24.303-24.303-24.303-13.399 0-24.302 10.902-24.302 24.303v11.897h48.604V149.57zM107.659 245.007h82.019v-65.313h-82.019v65.313zm41.01-52.148c6.98 0 12.658 5.678 12.658 12.657 0 3.4-1.354 6.486-3.545 8.764v11.994a9.113 9.113 0 11-18.226 0v-11.996a12.61 12.61 0 01-3.543-8.762c-.001-6.98 5.677-12.657 12.656-12.657z\">\r\n            </path>\r\n            <path d=\"M42.077 156.72v130.816a8.102 8.102 0 008.101 8.101h196.928a8.102 8.102 0 008.101-8.101V156.72L148.644 61.968 42.077 156.72zm149.121-7.15v11.897h7.594a9.112 9.112 0 019.113 9.113v83.539a9.112 9.112 0 01-9.113 9.113H98.546a9.113 9.113 0 01-9.113-9.113V170.58a9.113 9.113 0 019.113-9.113h7.595V149.57c0-23.451 19.078-42.529 42.528-42.529 23.451 0 42.529 19.078 42.529 42.529z\">\r\n            </path>\r\n        </svg>\r\n    );\r\n};","import React from 'react';\r\n\r\nimport './Header.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { LogoIcon } from '../assets/icons/LogoIcon';\r\n\r\nfunction Header() {\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header__container\">\r\n                <Link to=\"/\" className=\"header__link\">\r\n                    <LogoIcon />\r\n                </Link>\r\n                <nav className=\"header__nav\">\r\n                    <Link className=\"header__link\" to=\"/\">Gallery</Link>\r\n                    <Link className=\"header__link\" to=\"/favorites\">Favourites</Link>\r\n                    <Link className=\"header__link\" to=\"/\">Contacts</Link>\r\n                </nav>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport './Preloader.css';\r\n\r\nfunction Preloader() {\r\n    return (\r\n        <div className=\"circle-preloader__conteiner\">\r\n            <i className=\"circle-preloader\"></i>\r\n            <p className=\"circle-preloader__text\">Идет поиск...</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import './App.css';\nimport React from 'react';\nimport { ApartmentsContext } from '../contexts/ApartmentsContext';\nimport { getInitialDatas } from '../utils/Api';\nimport ApartmentsList from './ApartmentsList'\nimport FavouriteApartments from './FavouriteApartments'\nimport Header from './Header'\nimport Preloader from './Preloader';\nimport { Route, Switch } from 'react-router-dom';\n\nfunction App() {\n  const [apartments, setApartments] = React.useState([]);\n  const [preloader, setPreloader] = React.useState(false);\n\n  React.useEffect(() => {\n    setPreloader(true);\n\n    getInitialDatas()\n      .then((res) => {\n        if (res) {\n          const initialDatas = Object.values(res);\n\n          let favourites\n\n          try {\n            favourites = localStorage.getItem('favourites')\n          } catch (err) {\n            console.error(err)\n          }\n\n          const result = initialDatas.map(el => {\n            return { ...el, favourite: favourites?.includes(el.id) ? true : false }\n          })\n          setPreloader(false);\n          setApartments(result)\n        }\n      })\n\n  }, []);\n\n  React.useEffect(() => {\n    // проверка на наличие данных в стейте, чтобы не отрабатывал лишний раз\n    if (apartments.length) {\n      const favouriteItems = apartments.filter(el => el.favourite)\n      localStorage.setItem('favourites', JSON.stringify(favouriteItems.map(el => (el.id))))\n    }\n  }, [apartments])\n\n  return (\n    <ApartmentsContext.Provider value={{ apartments, setApartments }}>\n      <div className=\"app\">\n\n        <Header />\n        <Switch>\n          <Route exact path=\"/\">\n            {!preloader ? <ApartmentsList /> : <Preloader />}\n          </Route>\n          <Route exact path=\"/favorites\">\n            <FavouriteApartments />\n          </Route>\n        </Switch>\n      </div>\n    </ApartmentsContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n    <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}